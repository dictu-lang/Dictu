/**
 * strftime.du
 *
 * Testing the Datetime.strftime() function
 *
 */
from UnitTest import UnitTest;

import Datetime;

class TestStrftimeDatetimeModule < UnitTest {
    testStrftime(data) {
        // 1577836800 is 1/1/2020 at 12:00 am (Wednesday)
        this.assertEquals(Datetime.new(1577836800).strftime(data["pattern"]), data["expected"]);
    }

    testStrftimeWithoutPattern() {
        this.assertEquals(Datetime.new(1577836800).strftime(), "Wed Jan 01 00:00:00 2020");
    }

    testStrftimeUPattern() {
        this.assertTruthy(Datetime.new(1577836800).strftime("%u") == "3" or Datetime.new(1577836800).strftime("%u") == "");
    }

    testStrftimeProvider() {
        return [
            {"pattern": "%y", "expected": "20"},
            {"pattern": "%Y", "expected": "2020"},
            {"pattern": "%b", "expected": "Jan"},
            {"pattern": "%B", "expected": "January"},
            {"pattern": "%m", "expected": "01"},
            {"pattern": "%d", "expected": "01"},
            {"pattern": "%a", "expected": "Wed"},
            {"pattern": "%A", "expected": "Wednesday"},
            {"pattern": "%H", "expected": "00"},
            {"pattern": "%M", "expected": "00"},
            {"pattern": "%S", "expected": "00"},
            {"pattern": "%Y-%m-%d %H:%M:%S", "expected": "2020-01-01 00:00:00"},
            {"pattern": "", "expected": ""}, // catch up the case of an empty string
        ];
    }
}

TestStrftimeDatetimeModule().run();
