/**
 * compare.du
 *
 * Testing the BigInt compare function.
 *
 * .compare() returns a Number value: -1 if less than, 0 if equal,
 * 1 if greater than.
 */

from UnitTest import UnitTest;

import BigInt;

class TestBigIntCompare < UnitTest {
    testBigIntCompareEqual() {
        const bi1 = BigInt.new();
        const bi2 = BigInt.new();
        this.assertSuccess(bi1);
        this.assertSuccess(bi2);
        this.assertEquals(bi1.unwrap().compare(bi2.unwrap()), 0);
    }

    testBigIntCompareNotEqual() {
        const bi1 = BigInt.new();
        const bi2 = BigInt.new("908");
        this.assertSuccess(bi1);
        this.assertSuccess(bi2);
        this.assertNotEquals(bi1.unwrap().compare(bi2.unwrap()), 0);
        this.assertEquals(bi1.unwrap().compare(bi2.unwrap()), -1);
    }

    testBigIntCompareLargeEqual() {
        const bi1 = BigInt.new(5000000000);
        const bi2 = BigInt.new("5000000000");
        this.assertSuccess(bi1);
        this.assertSuccess(bi2);
        this.assertEquals(bi1.unwrap().compare(bi2.unwrap()), 0);
    }

    testBigIntCompareLargeNotEqual() {
        const bi1 = BigInt.new(5000000000);
        const bi2 = BigInt.new(5000000001);
        this.assertSuccess(bi1);
        this.assertSuccess(bi2);
        this.assertEquals(bi1.unwrap().compare(bi2.unwrap()), -1);
        this.assertEquals(bi2.unwrap().compare(bi1.unwrap()), 1);
    }
}

TestBigIntCompare().run();
